# Домашнее задание к занятию «Компоненты Kubernetes»

- Сведем ресурсы, которые нужны для каждого пода:

|       | CPU, mcores | RAM, MB | Replicas |
|-------|-------------|---------|----------|
| DB    | 1000        | 4096    | 3        |
| Cache | 1000        | 4096    | 3        |
| Front | 200         | 50      | 5        |
| Back  | 1000        | 600     | 10       |

- Рассчитаем количество нод для компонентов
  1. каждая реплика запущена на отдельной ноде:

## БД
  - Запас реcурсов CPU на Kubelet и ОС - 700 mcores
  - Запас реcурсов RAM на Kubelet и ОС - 1.5 ГБ
  - Резервирование нод: + 1 нода
  - Потребность: 4 ноды по 1700 mCPU, 5.5 ГБ RAM
  ### При данном варианте на БД потребуется 4 ноды по 2 CPU, 6 ГБ RAM

## Кеш
  - Запас реcурсов CPU на Kubelet и ОС - 700 mcores
  - Запас реcурсов RAM на Kubelet и ОС - 1.5 ГБ
  - Резервирование нод: + 1 нода
  - Потребность: 4 ноды по 1700 mCPU, 5.5 ГБ RAM
  ### При данном варианте на кэш-сервис потребуется 4 ноды по 2 CPU, 6 ГБ RAM

## Фронтенд
  - Запас реcурсов CPU на Kubelet и ОС - 250 mcores
  - Запас реcурсов RAM на Kubelet и ОС - 350 МБ
  - Резервирование нод: + 1 нода
  - Потребность: 6 ноды по 450 mCPU, 400 МБ RAM
  ### При данном варианте на фронт потребуется 6 нод по 1 CPU, 1 ГБ RAM

## Бекэнд
  - Запас реcурсов CPU на Kubelet и ОС - 250 mcores
  - Запас реcурсов RAM на Kubelet и ОС - 350 МБ
  - Резервирование нод: + 1 нода
  - Потребность: 11 нод по 1700 mCPU, 950 МБ RAM
  ### При данном варианте на бэк потребуется 1 нод по 2 CPU, 1 ГБ RAM

## Control plane  
  - Запас реcурсов CPU - 1000 mcores
  - Запас реcурсов RAM - 4 Гб МБ
  - Резервирование не требуется
  - Потребность: 3 ноды по 1000 mCPU, 4 ГБ RAM
  ### При данном варианте на средства управления потребуется 3 ноды по 1 CPU, 4 ГБ RAM

## Итого потребуется 28 нод:

| Количество | CPU | RAM  |
|------------|-----|------|
| 8          | 2   | 6 Гб |
| 6          | 1   | 1 Гб |
| 11         | 2   | 1 Гб |
| 3          | 1   | 4 Гб |

  2. реплики базы данных и кеша расположены на общих нодах, не больше 1 сервиса на каждой ноде

## БД и кэш
  - Запас реcурсов CPU на Kubelet и ОС - 700 mcores
  - Запас реcурсов RAM на Kubelet и ОС - 1.9 ГБ
  - Резервирование нод: + 1 нода
  - Потребность: 4 ноды по 2700 mCPU, 9.9 ГБ RAM
  ### При данном варианте на БД потребуется 4 ноды по 3 CPU, 10 ГБ RAM

## Фронт и бэк
  - Запас реcурсов CPU на Kubelet и ОС - 250 mcores
  - Запас реcурсов RAM на Kubelet и ОС - 350 МБ
  - Резервирование нод: + 1 нода
  - Потребность: 11 нод по 1450 mCPU, 1000 МБ RAM
  ### При данном варианте на фронт потребуется 11 нод по 2 CPU, 1 ГБ RAM

## Control plane  
  - Запас реcурсов CPU - 1000 mcores
  - Запас реcурсов RAM - 4 Гб МБ
  - Резервирование не требуется
  - Потребность: 3 ноды по 1000 mCPU, 4 ГБ RAM
  ### При данном варианте на средства управления потребуется 3 ноды по 1 CPU, 4 ГБ RAM

## Итого потребуется 18 нод:

| Количество | CPU | RAM  |
|------------|-----|------|
| 4          | 3   | 10 Гб|
| 11         | 2   | 2 Гб |
| 3          | 1   | 4 Гб |

  3. worker-реплики расположены на общих нодах, не больше 1 сервиса на каждой ноде

## Worker-реплики
  - Запас реcурсов CPU на Kubelet и ОС - 250 mcores
  - Запас реcурсов RAM на Kubelet и ОС - 2 ГБ
  - Резервирование нод: + 1 нода
  - Потребность: 11 нод по 3250 mCPU, 10.7 ГБ RAM
  ### При данном варианте на бэк потребуется 11 нод по 4 CPU, 11 ГБ RAM

## Control plane  
  - Запас реcурсов CPU - 1000 mcores
  - Запас реcурсов RAM - 4 Гб МБ
  - Резервирование не требуется
  - Потребность: 3 ноды по 1000 mCPU, 4 ГБ RAM
  ### При данном варианте на средства управления потребуется 3 ноды по 1 CPU, 4 ГБ RAM

## Итого потребуется 18 нод:

| Количество | CPU | RAM  |
|------------|-----|------|
| 3          | 1   | 4 Гб |
| 11         | 4   | 11 Гб|

  4. worker-реплики расположены на общих нодах, на каждой ноде не больше одной реплики БД, Кэша, до 2 реплик Фронта и до 4 реплик Бэка

## Worker-реплики
  - Запас реcурсов CPU на Kubelet и ОС - 250 mcores
  - Запас реcурсов RAM на Kubelet и ОС - 2.15 ГБ
  - Резервирование нод: + 1 нода
  - Потребность: 4 ноды по 6650 mCPU, 12.8 ГБ RAM
  ### При данном варианте на бэк потребуется 4 ноды по 7 CPU, 13 ГБ RAM

## Control plane  
  - Запас реcурсов CPU - 1000 mcores
  - Запас реcурсов RAM - 4 Гб МБ
  - Резервирование не требуется
  - Потребность: 3 ноды по 1000 mCPU, 4 ГБ RAM
  ### При данном варианте на средства управления потребуется 3 ноды по 1 CPU, 4 ГБ RAM

## Итого потребуется 7 нод:

| Количество | CPU | RAM  |
|------------|-----|------|
| 3          | 1   | 4 Гб |
| 11         | 7   | 13 Гб|
